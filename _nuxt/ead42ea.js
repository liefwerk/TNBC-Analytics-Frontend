(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{759:function(t,e,n){"use strict";n.r(e);n(44),n(45),n(29),n(27),n(46),n(47),n(35);var r=n(4),o=(n(76),n(212),n(14),n(67),n(210),n(34),n(32),n(0)),c=n(507),l=n(508),f=n(509),d=(n(115),n(26)),h=n(39),m=n(59),v=n(66),y=n(33),x=n(12),O=(n(38),n(52));function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(y.a)(t);if(e){var o=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var C=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(x.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},j=function(t){Object(m.a)(n,t);var e=w(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"transactions",get:function(){return{chart:{type:"pie",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},colors:["#2a297a","#336faf"],title:{text:"Withdrawal amounts to each Government account",margin:30,align:"left"},subtitle:{text:"From Treasury Account",align:"left"},navigator:{enabled:!1},accessibility:{point:{valueSuffix:"%"}},tooltip:{enabled:!1,pointFormat:"<b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.y}</b> - {point.percentage:.1f} %"},showInLegend:!0}},legend:{enabled:!0,floating:!0},series:[{name:"Transactions",colorByPoint:!0,data:this.data}]}}}]),n}(O.Vue);C([Object(O.Prop)({required:!0})],j.prototype,"data",void 0);var T=j=C([O.Component],j),_=n(25),P=Object(_.a)(T,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative w-full card"},[n("highcharts",{attrs:{"constructor-type":"stockChart",options:t.transactions}})],1)}),[],!1,null,null,null).exports;function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(y.a)(t);if(e){var o=Object(y.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(v.a)(this,n)}}var k=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(x.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},D=function(t){Object(m.a)(n,t);var e=R(n);function n(){var t;return Object(d.a)(this,n),(t=e.apply(this,arguments)).selectedFilterValue=31,t}return Object(h.a)(n,[{key:"transactions",get:function(){return{chart:{type:"areaspline"},rangeSelector:{enabled:!1},title:{text:"Periodic withdrawals of TNBC",margin:30,align:"left"},subtitle:{text:"From Treasury Account",align:"left"},tooltip:{shared:!0,valueSuffix:" TNBC"},xAxis:{type:"datetime"},series:[{name:"Transactions",data:this.data}]}}}]),n}(O.Vue);k([Object(O.Prop)({required:!0})],D.prototype,"data",void 0);var N=D=k([O.Component],D),S=Object(_.a)(N,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative w-full card"},[t.data.length?n("highcharts",{attrs:{"constructor-type":"stockChart",options:t.transactions}}):n("div",{staticClass:"text-center absolute top-1/2 transform -translate-y-1/2 -right-1/2 -translate-x-1/2 w-full"},[n("p",{staticClass:"text-lg font-semibold text-gray-500"},[t._v("There is no data available from the last "+t._s(t.selectedFilterValue)+" days.")])])],1)}),[],!1,null,null,null).exports,B=n(328),A=n.n(B);function F(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var K=o.default.extend({components:{Table:c.a,NumberCard:l.a,DefaultCard:f.a,TreasuryGraph:P,TreasuryGraphCumulated:S},data:function(){return{transactionUrl:{protocol:"http",bank:"54.183.16.194",publicKey:"23676c35fce177aef2412e3ab12d22bf521ed423c6f55b8922c336500a1a27c5"},tableOptions:{},transactions:[],analytics:{},graphData:[],perPage:5,pageOffset:0,transactionType:"transaction_type=TREASURY",columns:[{name:"date",attribute:"date"},{name:"amount",attribute:"amount"},{name:"Purpose",attribute:"paymentFor"},{name:"recipient public key",attribute:"recipientPublicKey"}]}},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,f,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$http,r="23676c35fce177aef2412e3ab12d22bf521ed423c6f55b8922c336500a1a27c5",e.next=4,n.$get("http://54.183.16.194/bank_transactions?limit=5&account_number=".concat(r,"&block__sender=").concat(r,"&fee=NONE"));case 4:return o=e.sent,e.next=7,n.$get("http://52.52.160.149/accounts/".concat(r,"/balance"));case 7:return c=e.sent,l=o.results,f={total:o.count,previous:o.previous,next:o.next,count:o.results.length},d=o.results,h={balance:c.balance,lastTransaction:l[0].amount,lastTransactionDate:A()(l[0].block.created_date).fromNow(),totalOfTransactions:f.total,lastTransactionKey:l[0].recipient},e.abrupt("return",{transactions:l,tableOptions:f,graphData:d,analytics:h});case 13:case"end":return e.stop()}}),e)})))()},methods:{handleGitHubIdSearch:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!((r=Number(t.target.value))>0)){n.next=10;break}return n.next=4,fetch("https://tnbanalytics.pythonanywhere.com/transaction?github_issue_id=".concat(r,"&").concat(e.transactionType)).then((function(t){return t.json()})).catch((function(t){return console.log(t)}));case 4:o=n.sent,e.transactions=o.results,e.tableOptions.previous=o.previous,e.tableOptions.next=o.next,n.next=17;break;case 10:if(0!==r){n.next=17;break}return n.next=13,fetch("https://tnbanalytics.pythonanywhere.com/transaction?limit=".concat(e.perPage,"&offset=").concat(e.pageOffset,"&").concat(e.transactionType)).then((function(t){return t.json()})).catch((function(t){return console.log(t)}));case 13:c=n.sent,e.transactions=c.results,e.tableOptions.previous=c.previous,e.tableOptions.next=c.next;case 17:case"end":return n.stop()}}),n)})))()},handlePreviousPage:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.tableOptions.previous){e.next=7;break}return e.next=3,fetch("".concat(t.tableOptions.previous)).then((function(t){return t.json()})).catch((function(t){return console.log(t)}));case 3:n=e.sent,t.transactions=n.results,t.tableOptions.previous=n.previous,t.tableOptions.next=n.next;case 7:case"end":return e.stop()}}),e)})))()},handleNextPage:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.tableOptions.next){e.next=7;break}return e.next=3,fetch("".concat(t.tableOptions.next)).then((function(t){return t.json()})).catch((function(t){return console.log(t)}));case 3:n=e.sent,t.transactions=n.results,t.tableOptions.previous=n.previous,t.tableOptions.next=n.next;case 7:case"end":return e.stop()}}),e)})))()},handlePageOffset:function(t,e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var r,link,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.transactionUrl,link="".concat(r.protocol,"://").concat(r.bank,"/bank_transactions?limit=").concat(n.perPage,"&offset=").concat(t,"&account_number=").concat(r.publicKey,"&fee=NONE"),e.next=4,fetch(link).then((function(t){return t.json()})).catch((function(t){return console.log(t)}));case 4:o=e.sent,n.pageOffset=t,n.transactions=o.results,n.tableOptions.previous=o.previous,n.tableOptions.next=o.next;case 9:case"end":return e.stop()}}),e)})))()},handlePerPageChange:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,link,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.transactionUrl,link="".concat(r.protocol,"://").concat(r.bank,"/bank_transactions?limit=").concat(t,"&offset=").concat(e.pageOffset,"&account_number=").concat(r.publicKey,"&fee=NONE"),n.next=4,fetch(link).then((function(t){return t.json()})).catch((function(t){return console.log(t)}));case 4:o=n.sent,e.perPage=t,e.transactions=o.results,e.tableOptions.previous=o.previous,e.tableOptions.next=o.next,e.tableOptions.count=e.transactions.length;case 10:case"end":return n.stop()}}),n)})))()},changeDateRange:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://tnbanalytics.pythonanywhere.com/treasury-chart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({days:t})}).then((function(t){return t.json()})).catch((function(t){return console.log(t)}));case 2:r=n.sent,e.graphData=r.data;case 4:case"end":return n.stop()}}),n)})))()},formatTransactions:function(t){var e=[];return t.map((function(t){var n=t.block.created_date,r=A()(n).format("MMM Do, YYYY");e.push({date:r,amount:t.amount,recipientPublicKey:t.recipient})})),e}},computed:{getLastTransactionDate:function(){return this.analytics.lastTransactionDate},getTransactions:function(){return this.formatTransactions(this.transactions)},getFormatedData:function(){var t=[];return this.graphData.map((function(e){var n=A()(e.block.created_date).valueOf();t.push([n,e.amount])})),t},getFormatedSplineChartData:function(){var t=[];return this.graphData.map((function(e){var n=A()(e.block.created_date).valueOf();t.push([n,e.amount])})),t},getFormatedPieChartData:function(){var t,e=this.transactions,n=[],r=F(e);try{for(r.s();!(t=r.n()).done;){var o=t.value.recipient,c=0;if("23676c35fce177aef2412e3ab12d22bf521ed423c6f55b8922c336500a1a27c5"!=o){var l,f=F(e);try{for(f.s();!(l=f.n()).done;){var d=l.value;o===d.recipient&&(c+=d.amount)}}catch(t){f.e(t)}finally{f.f()}var h={name:o,y:c};n.push(h)}}}catch(t){r.e(t)}finally{r.f()}return n.reduce((function(t,e){return t.find((function(t){return t.name===e.name}))?t:t.concat([e])}),[])}}}),G=Object(_.a)(K,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"mt-12 mb-20 mx-6 md:mx-12"},[t._m(0),t._v(" "),n("div",{staticClass:"flex flex-wrap mx-auto"},[n("div",{staticClass:"w-full mb-8"},[n("div",{staticClass:"flex flex-wrap md:grid md:justify-items-stretch md:grid-cols-2 xl:grid-cols-4 gap-4 break-words"},[n("NumberCard",{staticClass:"text-red-400",attrs:{title:"Balance",number:t.analytics.balance}}),t._v(" "),n("NumberCard",{staticClass:"text-blue-400 self-start",attrs:{title:"Number of Transactions",number:t.analytics.totalOfTransactions}}),t._v(" "),n("NumberCard",{staticClass:"text-green-400 self-start",attrs:{title:"Last Transaction Amount",number:t.analytics.lastTransaction}}),t._v(" "),n("DefaultCard",{attrs:{title:"Last Transaction Date",number:t.analytics.lastTransactionDate}})],1),t._v(" "),n("div",{staticClass:"flex flex-wrap w-full md:grid md:justify-items-stretch md:grid-cols-2 gap-4"},[n("DefaultCard",{staticClass:"break-all",attrs:{title:"Public Key",number:t.transactionUrl.publicKey}}),t._v(" "),n("DefaultCard",{staticClass:"break-all",attrs:{title:"Last Transaction's Recipient's Key",number:t.analytics.lastTransactionKey}})],1)]),t._v(" "),n("div",{staticClass:"flex flex-wrap w-full md:grid md:justify-items-stretch md:grid-cols-2 gap-4"},[n("TreasuryGraph",{attrs:{data:t.getFormatedPieChartData}}),t._v(" "),n("TreasuryGraphCumulated",{attrs:{data:t.getFormatedSplineChartData}})],1)]),t._v(" "),n("div",{staticClass:"mt-10"},[n("h2",{staticClass:"text-titlemd font-sans font-semibold"},[t._v("Withdrawals")]),t._v(" "),n("p",{staticClass:"mb-4"},[t._v("TNBC sent from Treasury account to Government account")]),t._v(" "),n("Table",{attrs:{options:t.tableOptions,columns:t.columns,items:t.getTransactions},on:{previousPage:t.handlePreviousPage,nextPage:t.handleNextPage,changePageOffset:t.handlePageOffset,changedMaxItems:t.handlePerPageChange,githubUserEntry:t.handleGitHubIdSearch}})],1)])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-16"},[n("h1",{staticClass:"text-titlelg mb-2 font-sans font-semibold"},[t._v("Treasury")]),t._v(" "),n("span",{staticClass:"text-subtitle text-pcsecondery"},[t._v("Minted TNBC and its withdrawal information")])])}],!1,null,null,null);e.default=G.exports}}]);